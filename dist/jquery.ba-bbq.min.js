!function(t){function e(t){return"string"==typeof t}function n(t){var e=b.call(arguments,1);return function(){return t.apply(this,e.concat(b.call(arguments)))}}function r(n,r,a,o,u){var h;return o!==i?(r=a.match(n?g:/^([^#?]*)\??([^#]*)(#?.*)/),a=r[3]||"",2===u&&e(o)?o=o.replace(n?d:N,""):(h=s(r[2]),o=e(o)?s[n?C:w](o):o,o=2===u?o:1===u?t.extend({},o,h):t.extend({},h,o),o=c(o),n&&(o=o.replace(m,$))),n=r[1]+(n?y:o||!r[1]?"?":"")+o+a):n=r(a!==i?a:location.href),n}function a(t,n,r){return n===i||"boolean"==typeof n?(r=n,n=x[t?C:w]()):n=e(n)?n.replace(t?d:N,""):n,s(n,r)}function o(n,r,a,o){return!e(a)&&"object"!=typeof a&&(o=a,a=r,r=i),this.each(function(){var e=t(this),i=r||p()[(this.nodeName||"").toLowerCase()]||"",c=i&&e.attr(i)||"";e.attr(i,x[n](c,a,o))})}var i,c,u,s,h,f,l,p,d,g,m,v,y,b=Array.prototype.slice,$=decodeURIComponent,x=t.param,j=t.bbq=t.bbq||{},A=t.event.special,w="querystring",C="fragment",N=/^.*\?|#.*$/g,U={};x[w]=n(r,0,function(t){return t.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}),x[C]=u=n(r,1,function(t){return t.replace(g,"$2")}),x.sorted=c=function(e,n){var r=[],a={};return t.each(x(e,n).split("&"),function(t,e){var n=e.replace(/(?:%5B|=).*$/,""),o=a[n];o||(o=a[n]=[],r.push(n)),o.push(e)}),t.map(r.sort(),function(t){return a[t]}).join("&")},u.noEscape=function(e){e=t.map((e||"").split(""),encodeURIComponent),m=RegExp(e.join("|"),"g")},u.noEscape(",/"),u.ajaxCrawlable=function(t){return t!==i&&(t?(d=/^.*(?:#!|#)/,g=/^([^#]*)(?:#!|#)?(.*)$/,y="#!"):(d=/^.*#/,g=/^([^#]*)#?(.*)$/,y="#"),v=!!t),v},u.ajaxCrawlable(0),t.deparam=s=function(e,n){var r={},a={"true":!0,"false":!1,"null":null};return t.each(e.replace(/\+/g," ").split("&"),function(e,o){var c=o.split("="),u=$(c[0]),s=r,h=0,f=u.split("]["),l=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[l])?(f[l]=f[l].replace(/\]$/,""),f=f.shift().split("[").concat(f),l=f.length-1):l=0,2===c.length)if(c=$(c[1]),n&&(c=c&&!isNaN(c)?+c:"undefined"===c?i:a[c]!==i?a[c]:c),l)for(;l>=h;h++)u=""===f[h]?s.length:f[h],s=s[u]=l>h?s[u]||(f[h+1]&&isNaN(f[h+1])?{}:[]):c;else t.isArray(r[u])?r[u].push(c):r[u]=r[u]!==i?[r[u],c]:c;else u&&(r[u]=n?i:"")}),r},s[w]=n(a,0),s[C]=h=n(a,1),t.elemUrlAttr||(t.elemUrlAttr=function(e){return t.extend(U,e)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"}),p=t.elemUrlAttr,t.fn[w]=n(o,w),t.fn[C]=n(o,C),j.pushState=f=function(t,n){e(t)&&/^#/.test(t)&&n===i&&(n=2);var r=t!==i,r=u(location.href,r?t:{},r?n:2);location.href=r},j.getState=l=function(t,e){return t===i||"boolean"==typeof t?h(t):h(e)[t]},j.removeState=function(e){var n={};e!==i&&(n=l(),t.each(t.isArray(e)?e:arguments,function(t,e){delete n[e]})),f(n,2)},A.hashchange=t.extend(A.hashchange,{add:function(e){function n(t){var e=t[C]=u();t.getState=function(t,n){return t===i||"boolean"==typeof t?s(e,t):s(e,n)[t]},r.apply(this,arguments)}var r;return t.isFunction(e)?(r=e,n):(r=e.handler,void(e.handler=n))}})}(jQuery,this),function(t,e,n){function r(t){return t=t||location.href,"#"+t.replace(/^[^#]*#?(.*)$/,"$1")}var a,o=document,i=t.event.special,c=o.documentMode,u="onhashchange"in e&&(c===n||c>7);t.fn.hashchange=function(t){return t?this.bind("hashchange",t):this.trigger("hashchange")},t.fn.hashchange.delay=50,i.hashchange=t.extend(i.hashchange,{setup:function(){return u?!1:void t(a.start)},teardown:function(){return u?!1:void t(a.stop)}});var s,h=function(){var n=r(),a=p(f);n!==f?(l(f=n,a),t(e).trigger("hashchange")):a!==f&&(location.href=location.href.replace(/#.*/,"")+a),s=setTimeout(h,t.fn.hashchange.delay)},i={},f=r(),l=c=function(t){return t},p=c;i.start=function(){s||h()},i.stop=function(){s&&clearTimeout(s),s=n};var d=navigator.userAgent.toLowerCase();if(/msie/.test(d)&&!/opera/.test(d)&&!u){var g,m;i.start=function(){g||(m=(m=t.fn.hashchange.src)&&m+r(),g=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){m||l(r()),h()}).attr("src",m||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(g.document.title=o.title)}catch(t){}})},i.stop=c,p=function(){return r(g.location.href)},l=function(e,n){var r=g.document,a=t.fn.hashchange.domain;e!==n&&(r.title=o.title,r.open(),a&&r.write('<script>document.domain="'+a+'"</script>'),r.close(),g.location.hash=e)}}a=i}(jQuery,this);